<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/webjars/bootstrap/5.0.0/css/bootstrap.min.css} " th:rel="stylesheet"/>
    <title>Login</title>

    <style>


        .spinner-border {
            display: none;
            margin: 100px auto;
            text-align: center;


        }

        form > div {
            margin-top: 20px;
        }

        form>div {
            border-color: black;
        }



        div.row {
            margin:auto;
            width:50vh;
            height:40vh;


        }


    </style>
</head>
<body style=" justify-content: center">
<div th:insert="shared/navbar :: header"/>


<div class="row" >


    <form class="form " id="loginForm" method="post" th:action="@{/login}" th:object="${user}">
        <div class="alert alert-danger" role="alert" style="margin-top: 20px"
             th:if="${param.error}" th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></div>

        <div>
            <input id="username" name="username" class="form-control bg-dark  border-dark text-white" placeholder="email" type="email"/>
        </div>

        <div>
            <input id="password" name="password" class="form-control bg-dark  border-dark text-white" placeholder="password" type="password"/>
        </div>

        <div>
            <input class=" btn btn-dark  " id="submitBtn" type="submit" value="Login"
            style="width:100%;"
            >
        </div>

        <div>
            <a class="text-black-50" th:href="@{/register}">New user? Sign up here !!!</a>
        </div>


    </form>




    <div class="spinner-border" id="spinner" role="status"></div>


</div>


<script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
<script th:src="@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}"></script>
<script th:src="@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}"></script>
<script th:inline="javascript">
    var submitBtn = document.getElementById("loginForm")
    var spinner = document.getElementById("spinner")

    submitBtn.addEventListener("submit", (event) => {
        spinner.style.display = "block"
    })

</script>

</body>
</html>